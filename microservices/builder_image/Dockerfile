FROM 10.96.120.0:5050/spark_task

WORKDIR /usr/src/builder
COPY . /usr/src/builder

RUN pip install -r requirements.txt

ENV BUILDER_HOST_NAME "builder"
ENV BUILDER_HOST_PORT_VALUE 5002
ENV BUILDER_HOST_IP "0.0.0.0"
ENV SPARKMASTER_HOST "sparkmaster"
ENV SPARKMASTER_PORT_VALUE 7077
ENV SPARK_DRIVER_PORT_VALUE 41100

EXPOSE 5002
CMD ["python", "server.py"]